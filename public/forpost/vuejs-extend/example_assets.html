<html>
  <head>
    <title>Vue extend example</title>
    <script src="/js/vuejs/2.6.10/vue.js"></script>
  </head>
  <body>
  
  <div id="asset-1"></div>
  <div id="asset-2"></div>
  
  <script>
var Asset = Vue.extend({
        template: '<div style="background:grey;padding:5px;">' +
        '<h2>{{ name }}</h2>' +
        '<div style="width:320px;height:20px;background:black;">' +
        '<div id="pbar" style="width:100px;height:20px;background:lime;"></div>' +
        '</div>' +
        '<p>money: {{ money }} </p>' +
        '</div>',
        data: function (a) {
            return {
                name: 'House 1',
                money: 0,
                lastTick: new Date(),
                per: 0,
                rate: {
                    amount: 10,
                    time: 3000
                }
            }
        },
        methods: {
            update: function () {
                var now = new Date(),
                time = now - this.$data.lastTick;
                per = time / this.$data.rate.time;
                per = per > 1 ? 1 : per;
                if (per === 1) {
                    this.$data.money += this.$data.rate.amount;
                    this.$data.lastTick = now;
                    this.$data.per = 0;
                }
                this.$el.querySelector('#pbar').style.width = Math.floor(per * 320) + 'px';
            }
        }
    });
// slow house asset
var a = new Asset({
        data: {
            name: 'Slow House',
            rate: {
                amount: 50,
                time: 20000
            }
        }
    }).$mount('#asset-1');
// fast house asset
var a2 = new Asset({
        data: {
            name: 'Fast House',
            rate: {
                amount: 1,
                time: 500
            }
        }
    }).$mount('#asset-2');

// app loop
var loop = function () {
    setTimeout(loop, 1000 / 30);
    a.update();
    a2.update();
};
loop();

  </script>
  </body>
</html>